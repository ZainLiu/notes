### 进程、线程和协程

+ 对于linux来说，进程和线程是一个抽象的概念，linux内核调度的其实是task_struct内核对象,一个task_struct可以简单的理解为一个线程，如果多个task_sturct共享地址空间等资源，那么，可以理解为他们在同一个进程中，共同组成了一个进程，所以在一个进程中的不同线程能共享一些变量属性，如果在两个线程在两个进程中，两个task_struct指向不同的系统资源所以不能共享。
+ 协程也是一个抽象的概念，协程是基于线程来工作的，鄙人觉得协程应该理解为《基于相互协作的线程完成的任务》更为贴切，linux中，只有task_struct能被调度，所以对于linux来说压根不认识什么是协程，所以协程的调度一定是基于task_struct，也就是线程，由于在一个进程里面的多个线程共享地址空间所以多个线程能很方便的相互配合做事，我们可以将我们的想要完整的事情封装成一个个任务，有的线程负责生产任务，有的线程负责完成任务，通过线程间的协作来共同完成一批任务，我们封装的任务就可以理解为一个个的协程，依赖线程间的主动调度来完成。
+ 为什么说协程能消耗更快更省资源，就是因为无论创建进程还是线程，都需要在内核中创建一个task_struct对象，新的进程需要单独申请专属的地址空间等系统资源，最耗时间和资源，新的线程则共享进程里面的主线程的地址空间等资源，不需要额外申请，但还是需要创建一个task_struct对象，还是需要一些额外的开销。协程产生和执行则不需要额外创建线程，只需将需求封装成一个个任务，交由已经创建好线程去执行，怎么切换怎么执行由线程决定，相当于创建一个线程可以执行多个任务，省下了创建线程的开销，所以更省资源。
+ ps：task_struct是linux内核中任务调度的基本单位，里面记录了这个任务所用拥有的系统资源和调度优先级等信息。